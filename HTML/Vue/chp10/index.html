<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>组件</title>
	<script src="../js/vue.js"></script>
</head>
<body>
	<div id="example-1">
		<my-component></my-component>
	</div>
	<div id="e-2">
		<my-component></my-component>
	</div>
	<div id="e-3">
		<simple-counter></simple-counter>
		<simple-counter></simple-counter>
		<simple-counter></simple-counter>
	</div>
	<div id="e-4">
		<child message="hello!"></child>
	</div>
	<div id="e-5">
		<input v-model="parentMsg">
		<br>
		<child :my-message="parentMsg"></child>
	</div>
	<div id="e-6">
		<p>{{ total }}</p>
		<button-counter v-on:increment="incrementTotal"></button-counter>
		<button-counter v-on:increment="incrementTotal"></button-counter>
	</div>
	<script>
		// 使用组件
			// 注册
			Vue.component('my-component',{
				template: '<div>A custom component!</div>'
			});
			var e1 = new Vue({
				el: '#example-1'
			});

			// 局部注册
			var Child = {
				tamplate: '<div>A custom component!</div>'
			};
			var e2 = new Vue({
				el: '#e-2',
				component: {
					'my-component': Child
				}
			});

			// data 必须是函数
			var data = { counter: 0 };
			Vue.component('simple-counter',{
				template: '<button @click="counter += 1">{{ counter }}</button>',
				data: function(){
					// 三个按钮一个data
					// return data
					// 三个按钮不用data
					return {
						counter: 0
					}
				}
			});
			var e3 = new Vue({
				el: '#e-3'
			});

		// Props
			// 使用Props传递数据
			// Vue.component('child',{
			// 	props: ['message'],
			// 	template: '<span>{{message}}</span>'
			// });
			// var e4 = new Vue({
			// 	el: '#e-4'
			// });

			// 动态Props
			var e5 = new Vue({
				el: '#e-5',
				data: {
					parentMsg: 'Message from parentMsg'
				},
				components: {
					child: {
						props: ['myMessage'],
						template: '<span>{{ myMessage }}</span>'
					}
				}
			});

			// 字面量语法 vs 动态语法

		// 自定义事件
			// 使用v-on 绑定自定义事件
			Vue.component('button-counter',{
				template: '<button v-on:click="increment">{{ counter }}</button>'
				,data: function(){
					return {
						counter: 0
					}
				},
				methods: {
					increment: function(){
						this.counter +=1
						this.$emit('increment')
					}
				}
			});
			var e6 = new Vue({
				el: '#e-6',
				data: {
					total: 0
				},
				methods: {
					incrementTotal: function(){
						this.total += 1
					}
				}
			});

		// 使用Slots分发内容
			
	</script>
</body>
</html>